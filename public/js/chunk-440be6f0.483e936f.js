(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-440be6f0"],{"240b":function(e,t,n){"use strict";n("c736")},"59dd":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),c=function(e){return Object(s["y"])("data-v-7184bab2"),e=e(),Object(s["w"])(),e},a={class:"header"},r={class:"form"},u=c((function(){return Object(s["h"])("h1",null,"codingheraldapps",-1)})),o={class:"input"},i=c((function(){return Object(s["h"])("label",{for:"email"}," email:",-1)})),l=c((function(){return Object(s["h"])("button",{type:"submit"},"submit",-1)})),b=c((function(){return Object(s["h"])("a",{href:"/login",class:"a"},"back",-1)})),d=c((function(){return Object(s["h"])("h1",null,"codingheraldapps",-1)})),p={class:"input"},f=c((function(){return Object(s["h"])("label",{for:"password"},"token:",-1)})),O=c((function(){return Object(s["h"])("p",null," A message has been sent to your email with the token. check your spam if you can't find it ",-1)})),j=c((function(){return Object(s["h"])("button",{type:"submit"},"submit",-1)})),m=c((function(){return Object(s["h"])("a",{href:"/forgot_password",class:"a"},"back",-1)})),h=c((function(){return Object(s["h"])("h1",null,"Atech acadmey",-1)})),w={class:"input"},g=c((function(){return Object(s["h"])("label",{for:"userEmail"},"email:",-1)})),v={class:"input"},k=c((function(){return Object(s["h"])("label",{for:"password"},"new Password:",-1)})),y=c((function(){return Object(s["h"])("button",{type:"submit"},"submit",-1)})),E=c((function(){return Object(s["h"])("footer",null,[Object(s["h"])("i",{class:"fa-solid fa-copyright"}),Object(s["j"])("codingherald2022")],-1)})),T={class:"response-div"},_={key:0,class:"done"},P=c((function(){return Object(s["h"])("i",{class:"fa-solid fa-circle-check"},null,-1)})),I={key:1,class:"error"},x=c((function(){return Object(s["h"])("i",{class:"fa-solid fa-circle-exclamation"},null,-1)}));function S(e,t,n,c,S,q){var L=Object(s["C"])("Header");return Object(s["v"])(),Object(s["g"])("main",null,[Object(s["h"])("div",a,[Object(s["k"])(L)]),Object(s["h"])("div",r,[c.user.step1?(Object(s["v"])(),Object(s["g"])("form",{key:0,onSubmit:t[1]||(t[1]=Object(s["M"])((function(e){return c.updatePassword()}),["prevent"]))},[u,Object(s["h"])("div",o,[i,Object(s["L"])(Object(s["h"])("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.user.email=e}),placeholder:"Enter your email...",required:""},null,512),[[s["I"],c.user.email]])]),l,b],32)):Object(s["f"])("",!0),c.user.step2?(Object(s["v"])(),Object(s["g"])("form",{key:1,onSubmit:t[3]||(t[3]=Object(s["M"])((function(e){return c.verifyToken()}),["prevent"]))},[d,Object(s["h"])("span",null,Object(s["E"])(c.user.count),1),Object(s["h"])("div",p,[f,Object(s["L"])(Object(s["h"])("input",{type:"text",name:"newPassword",id:"newPassword","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.user.token=e}),placeholder:"Enter token sent to your email...",required:""},null,512),[[s["I"],c.user.token]])]),O,j,m],32)):Object(s["f"])("",!0),c.user.step3?(Object(s["v"])(),Object(s["g"])("form",{key:2,onSubmit:t[6]||(t[6]=Object(s["M"])((function(e){return c.changePassword()}),["prevent"]))},[h,Object(s["h"])("div",w,[g,Object(s["L"])(Object(s["h"])("input",{type:"email",name:"userEmail",id:"userEmail","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.user.userEmail=e}),placeholder:"Enter email..",required:""},null,512),[[s["I"],c.user.userEmail]])]),Object(s["h"])("div",v,[k,Object(s["L"])(Object(s["h"])("input",{type:"password",name:"newPassword",id:"newPassword","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.user.new_password=e}),placeholder:"Enter new Password...",required:""},null,512),[[s["I"],c.user.new_password]])]),y],32)):Object(s["f"])("",!0),E]),Object(s["h"])("div",T,[c.user.success?(Object(s["v"])(),Object(s["g"])("div",_,[P,Object(s["h"])("span",null,Object(s["E"])(c.user.msg),1)])):Object(s["f"])("",!0),c.user.failed?(Object(s["v"])(),Object(s["g"])("div",I,[x,Object(s["h"])("span",null,Object(s["E"])(c.user.msg),1)])):Object(s["f"])("",!0)])])}var q=n("bc3a"),L=n.n(q),U=n("6c02"),V=n("0418"),K={name:"Forgot_password",components:{Header:V["a"]},setup:function(){var e=Object(s["z"])({email:"",token:"",new_password:"",userEmail:"",count:1,msg:"",step1:!0,step2:!1,step3:!1,success:!1,failed:!1}),t=Object(U["c"])(),n={headers:{"Content-Type":"application/json"}};function c(){L.a.post("api/forget_password",{email:e.email},n).then((function(t){"OK"===t.statusText&&(localStorage.setItem("updateToken",t.data.updateToken),e.step1=!1,e.step2=!0,u())})).catch((function(t){return e.failed=!0,setTimeout(i,3e3),t}))}function a(){L.a.post("api/forget_password/token",{token:e.token,userToken:localStorage.getItem("updateToken")},n).then((function(t){"OK"===t.statusText&&(e.step2=!1,e.step3=!0)})).catch((function(t){e.failed=!0,e.msg=t.response.data.msg,setTimeout(i,3e3)}))}function r(){L.a.post("api/forget_password/update",{password:e.new_password,email:e.userEmail},n).then((function(t){"OK"===t.statusText&&(e.success=!0,e.msg=t.data.msg,setTimeout(o,3e3))})).catch((function(t){e.failed=!0,e.msg=t.response.data.msg,setTimeout(i,3e3)}))}function u(){var t=setInterval((function(){e.count+=1,60===e.count&&clearInterval(t)}),1e3)}function o(){e.success=!1,t.push("/login")}function i(){e.failed=!1}return{user:e,updatePassword:c,verifyToken:a,changePassword:r}}},M=(n("240b"),n("6b0d")),A=n.n(M);const C=A()(K,[["render",S],["__scopeId","data-v-7184bab2"]]);t["default"]=C},c736:function(e,t,n){}}]);
//# sourceMappingURL=chunk-440be6f0.483e936f.js.map