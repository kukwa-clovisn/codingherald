(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ea22f6e"],{"139c":function(e,t,n){"use strict";n("8b3a")},"59dd":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),c=function(e){return Object(s["z"])("data-v-6a2c7ae0"),e=e(),Object(s["x"])(),e},a={class:"header"},r={class:"form"},i=c((function(){return Object(s["i"])("h1",null,"codingheraldapps",-1)})),u={class:"input"},o=c((function(){return Object(s["i"])("label",{for:"email"}," email:",-1)})),l=c((function(){return Object(s["i"])("button",{type:"submit"},"submit",-1)})),d=c((function(){return Object(s["i"])("a",{href:"/login",class:"a"},"back",-1)})),b=c((function(){return Object(s["i"])("h1",null,"codingheraldapps",-1)})),p={class:"input"},f=c((function(){return Object(s["i"])("label",{for:"password"},"token:",-1)})),O=c((function(){return Object(s["i"])("p",null," A message has been sent to your email with the token. check your spam if you can't find it ",-1)})),m=c((function(){return Object(s["i"])("button",{type:"submit"},"submit",-1)})),j=c((function(){return Object(s["i"])("a",{href:"/forgot_password",class:"a"},"back",-1)})),w=c((function(){return Object(s["i"])("h1",null,"Atech acadmey",-1)})),h={class:"input"},g=c((function(){return Object(s["i"])("label",{for:"userEmail"},"email:",-1)})),k={class:"input"},v=c((function(){return Object(s["i"])("label",{for:"password"},"new Password:",-1)})),y=c((function(){return Object(s["i"])("button",{type:"submit"},"submit",-1)})),T=c((function(){return Object(s["i"])("footer",null,[Object(s["i"])("i",{class:"fa-solid fa-copyright"}),Object(s["k"])("codingherald2022")],-1)})),E={class:"response-div"},_={key:0,class:"done"},P=c((function(){return Object(s["i"])("i",{class:"fa-solid fa-circle-check"},null,-1)})),x={key:1,class:"error"},J=c((function(){return Object(s["i"])("i",{class:"fa-solid fa-circle-exclamation"},null,-1)}));function I(e,t,n,c,I,S){var q=Object(s["D"])("Header");return Object(s["w"])(),Object(s["h"])("main",null,[Object(s["i"])("div",a,[Object(s["l"])(q)]),Object(s["i"])("div",r,[c.user.step1?(Object(s["w"])(),Object(s["h"])("form",{key:0,onSubmit:t[1]||(t[1]=Object(s["N"])((function(e){return c.updatePassword()}),["prevent"]))},[i,Object(s["i"])("div",u,[o,Object(s["M"])(Object(s["i"])("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.user.email=e}),placeholder:"Enter your email...",required:""},null,512),[[s["J"],c.user.email]])]),l,d],32)):Object(s["g"])("",!0),c.user.step2?(Object(s["w"])(),Object(s["h"])("form",{key:1,onSubmit:t[3]||(t[3]=Object(s["N"])((function(e){return c.verifyToken()}),["prevent"]))},[b,Object(s["i"])("span",null,Object(s["F"])(c.user.count),1),Object(s["i"])("div",p,[f,Object(s["M"])(Object(s["i"])("input",{type:"text",name:"newPassword",id:"newPassword","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.user.token=e}),placeholder:"Enter token sent to your email...",required:""},null,512),[[s["J"],c.user.token]])]),O,m,j],32)):Object(s["g"])("",!0),c.user.step3?(Object(s["w"])(),Object(s["h"])("form",{key:2,onSubmit:t[6]||(t[6]=Object(s["N"])((function(e){return c.changePassword()}),["prevent"]))},[w,Object(s["i"])("div",h,[g,Object(s["M"])(Object(s["i"])("input",{type:"email",name:"userEmail",id:"userEmail","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.user.userEmail=e}),placeholder:"Enter email..",required:""},null,512),[[s["J"],c.user.userEmail]])]),Object(s["i"])("div",k,[v,Object(s["M"])(Object(s["i"])("input",{type:"password",name:"newPassword",id:"newPassword","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.user.new_password=e}),placeholder:"Enter new Password...",required:""},null,512),[[s["J"],c.user.new_password]])]),y],32)):Object(s["g"])("",!0),T]),Object(s["i"])("div",E,[c.user.success?(Object(s["w"])(),Object(s["h"])("div",_,[P,Object(s["i"])("span",null,Object(s["F"])(c.user.msg),1)])):Object(s["g"])("",!0),c.user.failed?(Object(s["w"])(),Object(s["h"])("div",x,[J,Object(s["i"])("span",null,Object(s["F"])(c.user.msg),1)])):Object(s["g"])("",!0)])])}var S=n("bc3a"),q=n.n(S),F=n("6c02"),M=n("0418"),U={name:"Forgot_password",components:{Header:M["a"]},setup:function(){var e=Object(s["A"])({email:"",token:"",new_password:"",userEmail:"",count:1,msg:"",step1:!0,step2:!1,step3:!1,success:!1,failed:!1}),t=Object(F["c"])(),n={headers:{"Content-Type":"application/json"}};function c(){q.a.post("api/forget_password",{email:e.email},n).then((function(t){"OK"===t.statusText&&(localStorage.setItem("updateToken",t.data.updateToken),e.step1=!1,e.step2=!0,i())})).catch((function(t){return e.failed=!0,setTimeout(o,3e3),t}))}function a(){q.a.post("api/forget_password/token",{token:e.token,userToken:localStorage.getItem("updateToken")},n).then((function(t){"OK"===t.statusText&&(e.step2=!1,e.step3=!0)})).catch((function(t){e.failed=!0,e.msg=t.response.data.msg,setTimeout(o,3e3)}))}function r(){q.a.post("api/forget_password/update",{password:e.new_password,email:e.userEmail},n).then((function(t){"OK"===t.statusText&&(e.success=!0,e.msg=t.data.msg,setTimeout(u,3e3))})).catch((function(t){e.failed=!0,e.msg=t.response.data.msg,setTimeout(o,3e3)}))}function i(){var t=setInterval((function(){e.count+=1,60===e.count&&clearInterval(t)}),1e3)}function u(){e.success=!1,t.push("/login")}function o(){e.failed=!1}return{user:e,updatePassword:c,verifyToken:a,changePassword:r}}},V=(n("139c"),n("6b0d")),A=n.n(V);const K=A()(U,[["render",I],["__scopeId","data-v-6a2c7ae0"]]);t["default"]=K},"8b3a":function(e,t,n){}}]);
//# sourceMappingURL=chunk-1ea22f6e.cfc23e1a.js.map